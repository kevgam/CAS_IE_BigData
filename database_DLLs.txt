CREATE TABLE `charging_stations` (
  `evse_id` varchar(255) NOT NULL,
  `charging_station_id` varchar(255) DEFAULT NULL,
  `accessibility_location` varchar(255) DEFAULT NULL,
  `station_name` text,
  `address` text,
  `address_house_num` varchar(50) DEFAULT NULL,
  `address_street` varchar(255) DEFAULT NULL,
  `address_city` varchar(255) DEFAULT NULL,
  `address_region` varchar(255) DEFAULT NULL,
  `address_postal_code` varchar(50) DEFAULT NULL,
  `address_country` varchar(50) DEFAULT NULL,
  `address_time_zone` varchar(50) DEFAULT NULL,
  `authentication_modes` json DEFAULT NULL,
  `calibration_law_data_availability` varchar(255) DEFAULT NULL,
  `charging_facilities` json DEFAULT NULL,
  `charging_station_names` json DEFAULT NULL,
  `dynamic_info_available` varchar(5) DEFAULT NULL,
  `hotline_phone_number` varchar(50) DEFAULT NULL,
  `hub_operator_id` varchar(255) DEFAULT NULL,
  `is_hubject_compatible` tinyint(1) DEFAULT NULL,
  `is_open_24_hours` tinyint(1) DEFAULT NULL,
  `payment_options` json DEFAULT NULL,
  `plugs` json DEFAULT NULL,
  `renewable_energy` tinyint(1) DEFAULT NULL,
  `value_added_services` json DEFAULT NULL,
  `delta_type` varchar(50) DEFAULT NULL,
  `accessibility` varchar(255) DEFAULT NULL,
  `geo_coordinates` varchar(255) DEFAULT NULL,
  `geo_charging_point_entrance` varchar(255) DEFAULT NULL,
  `clearinghouse_id` varchar(255) DEFAULT NULL,
  `opening_times` json DEFAULT NULL,
  `charging_station_location_reference` json DEFAULT NULL,
  `energy_source` json DEFAULT NULL,
  `environmental_impact` json DEFAULT NULL,
  `location_image` json DEFAULT NULL,
  `suboperator_name` varchar(255) DEFAULT NULL,
  `max_capacity` decimal(10,2) DEFAULT NULL,
  `additional_info` text,
  `charging_pool_id` varchar(255) DEFAULT NULL,
  `dynamic_power_level` decimal(10,2) DEFAULT NULL,
  `hardware_manufacturer` varchar(255) DEFAULT NULL,
  `latitude` double DEFAULT NULL,
  `longitude` double DEFAULT NULL,
  `last_update` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`evse_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci



CREATE TABLE `charging_station_status_history` (
  `evse_id` varchar(255) NOT NULL,
  `status` varchar(50) NOT NULL,
  `polled_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`evse_id`,`polled_at`),
  CONSTRAINT `fk_evse_id` FOREIGN KEY (`evse_id`) REFERENCES `charging_stations` (`evse_id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

